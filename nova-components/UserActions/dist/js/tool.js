/*! For license information please see tool.js.LICENSE.txt */
(()=>{"use strict";var e={262(e,t){t.A=(e,t)=>{const r=e.__vccOpts||e;for(const[e,n]of t)r[e]=n;return r}}},t={};const r=Vue;function n(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var i={class:"flex items-center gap-6 px-6 py-4"},a=["disabled"],c={key:0,class:"animate-spin mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},s=["disabled"],l={key:0,class:"animate-spin mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},u={class:"bg-white dark:bg-gray-800 rounded-lg shadow-lg overflow-hidden",style:{"max-width":"28rem",margin:"0 auto"}},d={class:"leading-normal"},f={class:"flex items-center ml-auto"},m=["disabled"];function p(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",o=r.toStringTag||"@@toStringTag";function i(r,n,o,i){var s=n&&n.prototype instanceof c?n:c,l=Object.create(s.prototype);return y(l,"_invoke",function(r,n,o){var i,c,s,l=0,u=o||[],d=!1,f={p:0,n:0,v:e,a:m,f:m.bind(e,4),d:function(t,r){return i=t,c=0,s=e,f.n=r,a}};function m(r,n){for(c=r,s=n,t=0;!d&&l&&!o&&t<u.length;t++){var o,i=u[t],m=f.p,p=i[2];r>3?(o=p===n)&&(s=i[(c=i[4])?5:(c=3,3)],i[4]=i[5]=e):i[0]<=m&&((o=r<2&&m<i[1])?(c=0,f.v=n,f.n=i[1]):m<p&&(o=r<3||i[0]>n||n>p)&&(i[4]=r,i[5]=n,f.n=p,c=0))}if(o||r>1)return a;throw d=!0,n}return function(o,u,p){if(l>1)throw TypeError("Generator is already running");for(d&&1===u&&m(u,p),c=u,s=p;(t=c<2?e:s)||!d;){i||(c?c<3?(c>1&&(f.n=-1),m(c,s)):f.n=s:f.v=s);try{if(l=2,i){if(c||(o="next"),t=i[o]){if(!(t=t.call(i,s)))throw TypeError("iterator result is not an object");if(!t.done)return t;s=t.value,c<2&&(c=0)}else 1===c&&(t=i.return)&&t.call(i),c<2&&(s=TypeError("The iterator does not provide a '"+o+"' method"),c=1);i=e}else if((t=(d=f.n<0)?s:r.call(n,f))!==a)break}catch(t){i=e,c=1,s=t}finally{l=1}}return{value:t,done:d}}}(r,o,i),!0),l}var a={};function c(){}function s(){}function l(){}t=Object.getPrototypeOf;var u=[][n]?t(t([][n]())):(y(t={},n,function(){return this}),t),d=l.prototype=c.prototype=Object.create(u);function f(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,l):(e.__proto__=l,y(e,o,"GeneratorFunction")),e.prototype=Object.create(d),e}return s.prototype=l,y(d,"constructor",l),y(l,"constructor",s),s.displayName="GeneratorFunction",y(l,o,"GeneratorFunction"),y(d),y(d,o,"Generator"),y(d,n,function(){return this}),y(d,"toString",function(){return"[object Generator]"}),(p=function(){return{w:i,m:f}})()}function y(e,t,r,n){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}y=function(e,t,r,n){function i(t,r){y(e,t,function(e){return this._invoke(t,r,e)})}t?o?o(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(i("next",0),i("throw",1),i("return",2))},y(e,t,r,n)}function g(e,t,r,n,o,i,a){try{var c=e[i](a),s=c.value}catch(e){return void r(e)}c.done?t(s):Promise.resolve(s).then(n,o)}function v(e){return function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function a(e){g(i,n,o,a,c,"next",e)}function c(e){g(i,n,o,a,c,"throw",e)}a(void 0)})}}const h={props:["resourceName","resourceId","field"],data:function(){return{loading:!1,message:"",messageType:"success",isVerified:!1,confirmAction:null}},mounted:function(){var e,t;this.isVerified=null!==(e=null===(t=this.field)||void 0===t||null===(t=t.extraAttributes)||void 0===t?void 0:t.isVerified)&&void 0!==e&&e},methods:{showConfirm:function(e){this.message="",this.confirmAction=e},executeAction:function(){var e=this.confirmAction;this.confirmAction=null,"verify"===e?this.verifyEmail():this.resendVerification()},verifyEmail:function(){var e=this;return v(p().m(function t(){var r,n;return p().w(function(t){for(;;)switch(t.p=t.n){case 0:return e.loading="verify",e.message="",t.p=1,t.n=2,fetch("/nova-vendor/user-actions/verify-email/".concat(e.resourceId),{method:"POST",headers:{"X-CSRF-TOKEN":document.head.querySelector('meta[name="csrf-token"]').content,"Content-Type":"application/json",Accept:"application/json"}});case 2:return r=t.v,t.n=3,r.json();case 3:n=t.v,e.message=n.message||(r.ok?"Email verified.":"Failed to verify email."),e.messageType=r.ok?"success":"error",r.ok&&(e.isVerified=!0),t.n=5;break;case 4:t.p=4,t.v,e.message="Failed to verify email.",e.messageType="error";case 5:return t.p=5,e.loading=!1,t.f(5);case 6:return t.a(2)}},t,null,[[1,4,5,6]])}))()},resendVerification:function(){var e=this;return v(p().m(function t(){var r,n;return p().w(function(t){for(;;)switch(t.p=t.n){case 0:return e.loading="resend",e.message="",t.p=1,t.n=2,fetch("/nova-vendor/user-actions/resend-verification/".concat(e.resourceId),{method:"POST",headers:{"X-CSRF-TOKEN":document.head.querySelector('meta[name="csrf-token"]').content,"Content-Type":"application/json",Accept:"application/json"}});case 2:return r=t.v,t.n=3,r.json();case 3:n=t.v,e.message=n.message||(r.ok?"Verification email sent.":"Failed to send email."),e.messageType=r.ok?"success":"error",t.n=5;break;case 4:t.p=4,t.v,e.message="Failed to send verification email.",e.messageType="error";case 5:return t.p=5,e.loading=!1,t.f(5);case 6:return t.a(2)}},t,null,[[1,4,5,6]])}))()}}};var b=function r(n){var o=t[n];if(void 0!==o)return o.exports;var i=t[n]={exports:{}};return e[n](i,i.exports,r),i.exports}(262);const x=(0,b.A)(h,[["render",function(e,t,o,p,y,g){var v=(0,r.resolveComponent)("ModalHeader"),h=(0,r.resolveComponent)("ModalContent"),b=(0,r.resolveComponent)("ModalFooter"),x=(0,r.resolveComponent)("Modal");return(0,r.openBlock)(),(0,r.createElementBlock)("div",null,[(0,r.createElementVNode)("div",i,[(0,r.createElementVNode)("button",{onClick:t[0]||(t[0]=function(e){return g.showConfirm("verify")}),disabled:y.loading||y.isVerified,class:"shadow relative bg-primary-500 text-white dark:text-gray-900 cursor-pointer rounded text-sm font-bold focus:outline-none focus:ring ring-primary-200 dark:ring-gray-600 inline-flex items-center justify-center h-9 px-3 disabled:opacity-50 disabled:cursor-not-allowed"},["verify"===y.loading?((0,r.openBlock)(),(0,r.createElementBlock)("svg",c,n(t[5]||(t[5]=[(0,r.createElementVNode)("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),(0,r.createElementVNode)("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"},null,-1)])))):(0,r.createCommentVNode)("",!0),(0,r.createTextVNode)(" "+(0,r.toDisplayString)(y.isVerified?"Already Verified":"Verify Email"),1)],8,a),(0,r.createElementVNode)("button",{onClick:t[1]||(t[1]=function(e){return g.showConfirm("resend")}),disabled:y.loading||y.isVerified,class:"shadow relative bg-primary-500 text-white dark:text-gray-900 cursor-pointer rounded text-sm font-bold focus:outline-none focus:ring ring-primary-200 dark:ring-gray-600 inline-flex items-center justify-center h-9 px-3 disabled:opacity-50 disabled:cursor-not-allowed"},["resend"===y.loading?((0,r.openBlock)(),(0,r.createElementBlock)("svg",l,n(t[6]||(t[6]=[(0,r.createElementVNode)("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),(0,r.createElementVNode)("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"},null,-1)])))):(0,r.createCommentVNode)("",!0),t[7]||(t[7]=(0,r.createTextVNode)(" Resend Verification Email ",-1))],8,s),y.message?((0,r.openBlock)(),(0,r.createElementBlock)("span",{key:0,class:(0,r.normalizeClass)(["text-sm ml-2","success"===y.messageType?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"])},(0,r.toDisplayString)(y.message),3)):(0,r.createCommentVNode)("",!0)]),(0,r.createVNode)(x,{show:null!==y.confirmAction,onCloseViaEscape:t[4]||(t[4]=function(e){return y.confirmAction=null}),role:"alertdialog",size:"sm"},{default:(0,r.withCtx)(function(){return[(0,r.createElementVNode)("div",u,[(0,r.createVNode)(v,{class:"flex items-center"},{default:(0,r.withCtx)(function(){return[(0,r.createTextVNode)((0,r.toDisplayString)("verify"===y.confirmAction?"Verify Email":"Resend Verification"),1)]}),_:1}),(0,r.createVNode)(h,null,{default:(0,r.withCtx)(function(){return[(0,r.createElementVNode)("p",d,(0,r.toDisplayString)("verify"===y.confirmAction?"This will manually mark this user's email as verified. Are you sure?":"This will resend the email verification notification to the user. Continue?"),1)]}),_:1}),(0,r.createVNode)(b,null,{default:(0,r.withCtx)(function(){return[(0,r.createElementVNode)("div",f,[(0,r.createElementVNode)("button",{type:"button",onClick:t[2]||(t[2]=function(e){return y.confirmAction=null}),class:"shadow relative bg-gray-200 text-gray-800 dark:bg-gray-700 dark:text-gray-400 cursor-pointer rounded text-sm font-bold focus:outline-none focus:ring ring-primary-200 dark:ring-gray-600 inline-flex items-center justify-center h-9 px-3 mr-3"}," Cancel "),(0,r.createElementVNode)("button",{type:"button",onClick:t[3]||(t[3]=function(){return g.executeAction&&g.executeAction.apply(g,arguments)}),disabled:y.loading,class:"shadow relative bg-primary-500 text-white dark:text-gray-900 cursor-pointer rounded text-sm font-bold focus:outline-none focus:ring ring-primary-200 dark:ring-gray-600 inline-flex items-center justify-center h-9 px-3"},(0,r.toDisplayString)("verify"===y.confirmAction?"Verify":"Send Email"),9,m)])]}),_:1})])]}),_:1},8,["show"])])}]]);Nova.booting(function(e,t){e.component("user-actions",x)})})();